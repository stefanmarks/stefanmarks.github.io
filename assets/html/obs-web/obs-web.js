var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i;function a(e,t){return e===t||(i||(i=document.createElement("a")),i.href=t,e===i.href)}var c="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};const l="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:c;function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function h(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function g(e){return document.createTextNode(e)}function w(){return g(" ")}function v(){return g("")}function y(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.data!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function S(e,t,n){e.classList.toggle(t,!!n)}let k;function x(e){k=e}function F(){if(!k)throw new Error("Function called outside component initialization");return k}function N(e){F().$$.on_mount.push(e)}function _(){const e=F();return(t,n,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[t];if(r){const s=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}(t,n,{cancelable:o});return r.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}const E=[],I=[];let L=[];const M=[],P=Promise.resolve();let A=!1;function H(e){L.push(e)}const O=new Set;let V=0;function T(){if(0!==V)return;const e=k;do{try{for(;V<E.length;){const e=E[V];V++,x(e),B(e.$$)}}catch(e){throw E.length=0,V=0,e}for(x(null),E.length=0,V=0;I.length;)I.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];O.has(t)||(O.add(t),t())}L.length=0}while(E.length);for(;M.length;)M.pop()();A=!1,O.clear(),x(e)}function B(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H)}}const j=new Set;let R;function z(){R={r:0,c:[],p:R}}function D(){R.r||o(R.c),R=R.p}function W(e,t){e&&e.i&&(j.delete(e),e.i(t))}function q(e,t,n,o){if(e&&e.o){if(j.has(e))return;j.add(e),R.c.push((()=>{j.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function G(e){return void 0!==e?.length?e:Array.from(e)}function Z(e){e&&e.c()}function U(e,n,s){const{fragment:i,after_update:a}=e.$$;i&&i.m(n,s),H((()=>{const n=e.$$.on_mount.map(t).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),a.forEach(H)}function J(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];L.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),L=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(E.push(e),A||(A=!0,P.then(T)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,r,s,i,a,c,l=null,u=[-1]){const d=k;x(t);const m=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||d.$$.root};l&&l(m.root);let p=!1;if(m.ctx=s?s(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&a(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),p&&X(t,e)),n})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!i&&i(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();r.intro&&W(t.$$.fragment),U(t,r.target,r.anchor),T()}x(d)}class K{$$=void 0;$$set=void 0;$destroy(){J(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Q="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",ee="M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z";function te(e){let t,n;return{c(){t=h("title"),n=g(e[2])},m(e,o){d(e,t,o),u(t,n)},p(e,t){4&t&&C(n,e[2])},d(e){e&&f(t)}}}function ne(e){let t;return{c(){t=h("path"),b(t,"d",e[0])},m(e,n){d(e,t,n)},p(e,n){1&n&&b(t,"d",e[0])},d(e){e&&f(t)}}}function oe(e){let t,n,o;function r(e,t){return e[3]?se:re}let s=r(e),i=s(e);return{c(){i.c(),t=h("g"),n=h("path"),b(n,"d",e[0]),b(t,"style",o=`animation: ${e[5]} linear ${e[6]}s infinite; transform-origin: center`)},m(e,o){i.m(e,o),d(e,t,o),u(t,n)},p(e,a){s!==(s=r(e))&&(i.d(1),i=s(e),i&&(i.c(),i.m(t.parentNode,t))),1&a&&b(n,"d",e[0]),96&a&&o!==(o=`animation: ${e[5]} linear ${e[6]}s infinite; transform-origin: center`)&&b(t,"style",o)},d(e){e&&f(t),i.d(e)}}}function re(e){let t,n;return{c(){t=h("style"),n=g("@keyframes spin { to { transform: rotate(360deg) } }")},m(e,o){d(e,t,o),u(t,n)},d(e){e&&f(t)}}}function se(e){let t,n;return{c(){t=h("style"),n=g("@keyframes spin-inverse { to { transform: rotate(-360deg) } }")},m(e,o){d(e,t,o),u(t,n)},d(e){e&&f(t)}}}function ie(t){let n,o,r=t[2]&&te(t);function s(e,t){return!1!==e[1]?oe:ne}let i=s(t),a=i(t);return{c(){n=h("svg"),r&&r.c(),o=v(),a.c(),b(n,"viewBox","0 0 24 24"),b(n,"style",t[4]),b(n,"class","svelte-dmmfjb")},m(e,t){d(e,n,t),r&&r.m(n,null),u(n,o),a.m(n,null)},p(e,[t]){e[2]?r?r.p(e,t):(r=te(e),r.c(),r.m(n,o)):r&&(r.d(1),r=null),i===(i=s(e))&&a?a.p(e,t):(a.d(1),a=i(e),a&&(a.c(),a.m(n,null))),16&t&&b(n,"style",e[4])},i:e,o:e,d(e){e&&f(n),r&&r.d(),a.d()}}}function ae(e,t,n){let o,r,s,i,{path:a}=t,{size:c=1}=t,{color:l=null}=t,{flip:u=null}=t,{rotate:d=0}=t,{spin:f=!1}=t,{title:m=""}=t;Number(c)&&(c=Number(c));return e.$$set=e=>{"path"in e&&n(0,a=e.path),"size"in e&&n(7,c=e.size),"color"in e&&n(8,l=e.color),"flip"in e&&n(9,u=e.flip),"rotate"in e&&n(10,d=e.rotate),"spin"in e&&n(1,f=e.spin),"title"in e&&n(2,m=e.title)},e.$$.update=()=>{2&e.$$.dirty&&n(3,o="boolean"!=typeof f&&f<0),2&e.$$.dirty&&n(6,r=Math.abs(!0===f?2:f)),8&e.$$.dirty&&n(5,s=o?"spin-inverse":"spin"),1920&e.$$.dirty&&n(4,i=(()=>{const e=[],t=[];if(null!==c){const e="string"==typeof c?c:1.5*c+"rem";t.push(["width",e]),t.push(["height",e])}return t.push(["fill",null!==l?l:"currentColor"]),!0!==u&&"h"!==u||e.push("scaleX(-1)"),!0!==u&&"v"!==u||e.push("scaleY(-1)"),0!=d&&e.push(`rotate(${d}deg)`),e.length>0&&(t.push(["transform",e.join(" ")]),t.push(["transform-origin","center"])),t.reduce(((e,t)=>`${e} ${t[0]}:${t[1]};`),"")})())},[a,f,m,o,i,s,r,c,l,u,d]}class ce extends K{constructor(e){super(),Y(this,e,ae,ie,s,{path:0,size:7,color:8,flip:9,rotate:10,spin:1,title:2})}}const le=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,ue=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(le);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},de=e=>"*"===e||"x"===e||"X"===e,fe=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},me=(e,t)=>{if(de(e)||de(t))return 0;const[n,o]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(fe(e),fe(t));return n>o?1:n<o?-1:0},pe=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const o=me(e[n]||"0",t[n]||"0");if(0!==o)return o}return 0};var he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function we(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})})),n}function ve(){throw new Error("setTimeout has not been defined")}function ye(){throw new Error("clearTimeout has not been defined")}var be=ve,Ce=ye;function $e(e){if(be===setTimeout)return setTimeout(e,0);if((be===ve||!be)&&setTimeout)return be=setTimeout,setTimeout(e,0);try{return be(e,0)}catch(t){try{return be.call(null,e,0)}catch(t){return be.call(this,e,0)}}}"function"==typeof c.setTimeout&&(be=setTimeout),"function"==typeof c.clearTimeout&&(Ce=clearTimeout);var Se,ke=[],xe=!1,Fe=-1;function Ne(){xe&&Se&&(xe=!1,Se.length?ke=Se.concat(ke):Fe=-1,ke.length&&_e())}function _e(){if(!xe){var e=$e(Ne);xe=!0;for(var t=ke.length;t;){for(Se=ke,ke=[];++Fe<t;)Se&&Se[Fe].run();Fe=-1,t=ke.length}Se=null,xe=!1,function(e){if(Ce===clearTimeout)return clearTimeout(e);if((Ce===ye||!Ce)&&clearTimeout)return Ce=clearTimeout,clearTimeout(e);try{return Ce(e)}catch(t){try{return Ce.call(null,e)}catch(t){return Ce.call(this,e)}}}(e)}}function Ee(e,t){this.fun=e,this.array=t}Ee.prototype.run=function(){this.fun.apply(null,this.array)};function Ie(){}var Le=Ie,Me=Ie,Pe=Ie,Ae=Ie,He=Ie,Oe=Ie,Ve=Ie;var Te=c.performance||{},Be=Te.now||Te.mozNow||Te.msNow||Te.oNow||Te.webkitNow||function(){return(new Date).getTime()};var je=new Date;var Re,ze,De,We,qe,Ge={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ke.push(new Ee(e,t)),1!==ke.length||xe||$e(_e)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Le,addListener:Me,once:Pe,off:Ae,removeListener:He,removeAllListeners:Oe,emit:Ve,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Be.call(Te),n=Math.floor(t),o=Math.floor(t%1*1e9);return e&&(n-=e[0],(o-=e[1])<0&&(n--,o+=1e9)),[n,o]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-je)/1e3}},Ze={exports:{}};function Ue(){if(ze)return Re;ze=1;var e=1e3,t=60*e,n=60*t,o=24*n,r=7*o,s=365.25*o;function i(e,t,n,o){var r=t>=1.5*n;return Math.round(e/n)+" "+o+(r?"s":"")}return Re=function(a,c){c=c||{};var l=typeof a;if("string"===l&&a.length>0)return function(i){if((i=String(i)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*r;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(a);if("number"===l&&isFinite(a))return c.long?function(r){var s=Math.abs(r);if(s>=o)return i(r,s,o,"day");if(s>=n)return i(r,s,n,"hour");if(s>=t)return i(r,s,t,"minute");if(s>=e)return i(r,s,e,"second");return r+" ms"}(a):function(r){var s=Math.abs(r);if(s>=o)return Math.round(r/o)+"d";if(s>=n)return Math.round(r/n)+"h";if(s>=t)return Math.round(r/t)+"m";if(s>=e)return Math.round(r/e)+"s";return r+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var Je,Xe=(qe||(qe=1,function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let o=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(o++,"%c"===e&&(r=o))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"env"in Ge&&(e=Ge.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=(We||(We=1,De=function(e){function t(e){let o,r,s,i=null;function a(...e){if(!a.enabled)return;const n=a,r=Number(new Date),s=r-(o||r);n.diff=s,n.prev=o,n.curr=r,o=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((o,r)=>{if("%%"===o)return"%";i++;const s=t.formatters[r];if("function"==typeof s){const t=e[i];o=s.call(n,t),e.splice(i,1),i--}return o})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const o=t(this.namespace+(void 0===n?":":n)+e);return o.log=this.log,o}function o(e,t){let n=0,o=0,r=-1,s=0;for(;n<e.length;)if(o<t.length&&(t[o]===e[n]||"*"===t[o]))"*"===t[o]?(r=o,s=n,o++):(n++,o++);else{if(-1===r)return!1;o=r+1,s++,n=s}for(;o<t.length&&"*"===t[o];)o++;return o===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(o(e,n))return!1;for(const n of t.names)if(o(e,n))return!0;return!1},t.humanize=Ue(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}),De)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(Ze,Ze.exports)),Ze.exports),Ye=ge(Xe),Ke={exports:{}};var Qe=(Je||(Je=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function o(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var a=new r(o,s||e,i),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,o,r=[];if(0===this._eventsCount)return r;for(o in e=this._events)t.call(e,o)&&r.push(n?o.slice(1):o);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var t=n?n+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,s=o.length,i=new Array(s);r<s;r++)i[r]=o[r].fn;return i},a.prototype.listenerCount=function(e){var t=n?n+e:e,o=this._events[t];return o?o.fn?1:o.length:0},a.prototype.emit=function(e,t,o,r,s,i){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,o),!0;case 4:return u.fn.call(u.context,t,o,r),!0;case 5:return u.fn.call(u.context,t,o,r,s),!0;case 6:return u.fn.call(u.context,t,o,r,s,i),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,m=u.length;for(l=0;l<m;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,o);break;case 4:u[l].fn.call(u[l].context,t,o,r);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,o,r){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||r&&!a.once||o&&a.context!==o||i(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||r&&!a[c].once||o&&a[c].context!==o)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:i(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(Ke)),Ke.exports),et=ge(Qe),tt=null;"undefined"!=typeof WebSocket?tt=WebSocket:"undefined"!=typeof MozWebSocket?tt=MozWebSocket:void 0!==c?tt=c.WebSocket||c.MozWebSocket:"undefined"!=typeof window?tt=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(tt=self.WebSocket||self.MozWebSocket);var nt={exports:{}};var ot,rt={exports:{}},st=we(Object.freeze({__proto__:null,default:{}}));function it(){return ot||(ot=1,rt.exports=(e=e||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==he&&he.crypto&&(n=he.crypto),!n)try{n=st}catch(e){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},i=s.lib={},a=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=i.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var s=0;s<r;s++){var i=n[s>>>2]>>>24-s%4*8&255;t[o+s>>>2]|=i<<24-(o+s)%4*8}else for(var a=0;a<r;a+=4)t[o+a>>>2]=n[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new c.init(t,e)}}),l=s.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var s=t[r>>>2]>>>24-r%4*8&255;o.push((s>>>4).toString(16)),o.push((15&s).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new c.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var s=t[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(s))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new c.init(n,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},m=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,o=this._data,r=o.words,s=o.sigBytes,i=this.blockSize,a=s/(4*i),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,u=e.min(4*l,s);if(l){for(var d=0;d<l;d+=i)this._doProcessBlock(r,d);n=r.splice(0,l),o.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=m.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=s.algo={};return s}(Math),e)),rt.exports;var e}var at;var ct,lt,ut=ge((at||(at=1,nt.exports=(ct=it(),function(e){var t=ct,n=t.lib,o=n.WordArray,r=n.Hasher,s=t.algo,i=[],a=[];!function(){function t(t){for(var n=e.sqrt(t),o=2;o<=n;o++)if(!(t%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,r=0;r<64;)t(o)&&(r<8&&(i[r]=n(e.pow(o,.5))),a[r]=n(e.pow(o,1/3)),r++),o++}();var c=[],l=s.SHA256=r.extend({_doReset:function(){this._hash=new o.init(i.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],s=n[2],i=n[3],l=n[4],u=n[5],d=n[6],f=n[7],m=0;m<64;m++){if(m<16)c[m]=0|e[t+m];else{var p=c[m-15],h=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[m-2],w=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[m]=h+c[m-7]+w+c[m-16]}var v=o&r^o&s^r&s,y=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=f+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&d)+a[m]+c[m];f=d,d=u,u=l,l=i+b|0,i=s,s=r,r=o,o=b+(y+v)|0}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+i|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,o=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(o/4294967296),n[15+(r+64>>>9<<4)]=o,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(l),t.HmacSHA256=r._createHmacHelper(l)}(Math),ct.SHA256)),nt.exports)),dt={exports:{}};var ft=(lt||(lt=1,dt.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function o(e,t,o){for(var r=[],s=0,i=0;i<t;i++)if(i%4){var a=o[e.charCodeAt(i-1)]<<i%4*2|o[e.charCodeAt(i)]>>>6-i%4*2;r[s>>>2]|=a<<24-s%4*8,s++}return n.create(r,s)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,o=this._map;e.clamp();for(var r=[],s=0;s<n;s+=3)for(var i=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<n;a++)r.push(o.charAt(i>>>6*(3-a)&63));var c=o.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<n.length;s++)r[n.charCodeAt(s)]=s}var i=n.charAt(64);if(i){var a=e.indexOf(i);-1!==a&&(t=a)}return o(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(it())),dt.exports),mt=ge(ft);var pt=Ye("obs-websocket-js"),ht=class extends Error{constructor(e,t){super(t),this.code=e}},gt=class e extends et{static requestCounter=1;static generateMessageId(){return String(e.requestCounter++)}_identified=!1;internalListeners=new et;socket;get identified(){return this._identified}async connect(e="ws://127.0.0.1:4455",t,n={}){this.socket&&await this.disconnect();try{const o=this.internalEventPromise("ConnectionClosed"),r=this.internalEventPromise("ConnectionError");return await Promise.race([(async()=>{const o=await this.createConnection(e);return this.emit("Hello",o),this.identify(o,t,n)})(),new Promise(((e,t)=>{r.then((e=>{e.message&&t(e)})),o.then((e=>{t(e)}))}))])}catch(e){throw await this.disconnect(),e}}async disconnect(){if(!this.socket||this.socket.readyState===tt.CLOSED)return;const e=this.internalEventPromise("ConnectionClosed");this.socket.close(),await e}async reidentify(e){const t=this.internalEventPromise("op:2");return await this.message(3,e),t}async call(t,n){const o=e.generateMessageId(),r=this.internalEventPromise(`res:${o}`);await this.message(6,{requestId:o,requestType:t,requestData:n});const{requestStatus:s,responseData:i}=await r;if(!s.result)throw new ht(s.code,s.comment);return i}async callBatch(t,n={}){const o=e.generateMessageId(),r=this.internalEventPromise(`res:${o}`);await this.message(8,{requestId:o,requests:t,...n});const{results:s}=await r;return s}cleanup(){this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket=void 0,this._identified=!1,this.internalListeners.removeAllListeners())}async createConnection(e){var t;const n=this.internalEventPromise("ConnectionOpened"),o=this.internalEventPromise("op:0");this.socket=new tt(e,this.protocol),this.socket.onopen=this.onOpen.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),await n;const r=null==(t=this.socket)?void 0:t.protocol;if(!r)throw new ht(-1,"Server sent no subprotocol");if(r!==this.protocol)throw new ht(-1,"Server sent an invalid subprotocol");return o}async identify({authentication:e,rpcVersion:t,...n},o,r={}){const s={rpcVersion:t,...r};e&&o&&(s.authentication=function(e,t,n){const o=mt.stringify(ut(n+e));return mt.stringify(ut(o+t))}(e.salt,e.challenge,o));const i=this.internalEventPromise("op:2");await this.message(1,s);const a=await i;return this._identified=!0,this.emit("Identified",a),{rpcVersion:t,...n,...a}}async message(e,t){if(!this.socket)throw new Error("Not connected");if(!this.identified&&1!==e)throw new Error("Socket not identified");const n=await this.encodeMessage({op:e,d:t});this.socket.send(n)}async internalEventPromise(e){return new Promise((t=>{this.internalListeners.once(e,t)}))}onOpen(e){pt("socket.open"),this.emit("ConnectionOpened"),this.internalListeners.emit("ConnectionOpened",e)}async onMessage(e){try{const{op:t,d:n}=await this.decodeMessage(e.data);if(pt("socket.message: %d %j",t,n),void 0===t||void 0===n)return;switch(t){case 5:{const{eventType:e,eventData:t}=n;return void this.emit(e,t)}case 7:case 9:{const{requestId:e}=n;return void this.internalListeners.emit(`res:${e}`,n)}default:this.internalListeners.emit(`op:${t}`,n)}}catch(e){pt("error handling message: %o",e)}}onError(e){pt("socket.error: %o",e);const t=new ht(-1,e.message);this.emit("ConnectionError",t),this.internalListeners.emit("ConnectionError",t)}onClose(e){pt("socket.close: %s (%d)",e.reason,e.code);const t=new ht(e.code,e.reason);this.emit("ConnectionClosed",t),this.internalListeners.emit("ConnectionClosed",t),this.cleanup()}};"undefined"!=typeof exports&&Object.defineProperty(exports,"__esModule",{value:!0});const wt=new class extends gt{protocol="obswebsocket.json";async encodeMessage(e){return JSON.stringify(e)}async decodeMessage(e){return JSON.parse(e)}};async function vt(e,t){try{return await wt.call(e,t||{})}catch(t){return console.log("Error sending command",e," - error is:",t.message),{}}}function yt(e,t,n){const o=e.slice();return o[12]=t[n],o}function bt(e){let t,n,o,r,s=G(e[3]),i=[];for(let t=0;t<s.length;t+=1)i[t]=Ct(yt(e,s,t));return{c(){t=p("div"),n=p("img"),o=w(),r=p("div");for(let e=0;e<i.length;e+=1)i[e].c();b(n,"class","has-background-dark"),b(n,"alt","Preview"),b(t,"class","column"),b(r,"class","column is-narrow")},m(s,a){d(s,t,a),u(t,n),e[7](n),d(s,o,a),d(s,r,a);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(r,null)},p(e,t){if(8&t){let n;for(s=G(e[3]),n=0;n<s.length;n+=1){const o=yt(e,s,n);i[n]?i[n].p(o,t):(i[n]=Ct(o),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(n){n&&(f(t),f(o),f(r)),e[7](null),m(i,n)}}}function Ct(e){let t,n,o,r,s=e[12].transitionName+"";function i(){return e[8](e[12])}return{c(){var e,o;t=p("button"),n=g(s),b(t,"class","button is-fullwidth is-info"),e="margin-bottom",o=".5rem",t.style.setProperty(e,o,"")},m(e,s){d(e,t,s),u(t,n),o||(r=y(t,"click",i),o=!0)},p(t,o){e=t,8&o&&s!==(s=e[12].transitionName+"")&&C(n,s)},d(e){e&&f(t),o=!1,r()}}}function $t(t){let n,o,r,s,i=t[0]&&bt(t);return{c(){n=p("div"),i&&i.c(),o=w(),r=p("div"),s=p("img"),b(s,"alt","Program"),b(r,"class","column"),b(n,"class","columns is-centered is-vcentered has-text-centered")},m(e,a){d(e,n,a),i&&i.m(n,null),u(n,o),u(n,r),u(r,s),t[9](s)},p(e,[t]){e[0]?i?i.p(e,t):(i=bt(e),i.c(),i.m(n,o)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&f(n),i&&i.d(),t[9](null)}}}function St(e,t,n){let o,{imageFormat:r="jpg"}=t,s=!1,i="",a="",c={},l={},u=[];var d;async function f(){if(!i)return;let e=await vt("GetSourceScreenshot",{sourceName:i,imageFormat:r,imageWidth:960,imageHeight:540});e&&e.imageData&&c&&(n(1,c.src=e.imageData,c),n(1,c.className="",c)),s&&(a!==i&&(e=await vt("GetSourceScreenshot",{sourceName:a,imageFormat:r,imageWidth:960,imageHeight:540})),e&&e.imageData&&l&&n(2,l.src=e.imageData,l))}N((async()=>{let e;i||(e=await vt("GetCurrentProgramScene"),n(5,i=e.currentProgramSceneName||"")),e=await vt("GetStudioModeEnabled"),e&&e.studioModeEnabled&&(n(0,s=!0),e=await vt("GetCurrentPreviewScene"),n(6,a=e.currentPreviewSceneName||"")),e=await vt("GetSceneTransitionList"),console.log("GetSceneTransitionList",e),n(3,u=e.transitions||[]),o=setInterval(f,250)})),d=()=>{clearInterval(o)},F().$$.on_destroy.push(d),wt.on("StudioModeStateChanged",(async e=>{console.log("StudioModeStateChanged",e.studioModeEnabled),n(0,s=e.studioModeEnabled),s&&n(6,a=i)})),wt.on("CurrentPreviewSceneChanged",(async e=>{console.log("CurrentPreviewSceneChanged",e.sceneName),n(6,a=e.sceneName)})),wt.on("CurrentProgramSceneChanged",(async e=>{console.log("CurrentProgramSceneChanged",e.sceneName),n(5,i=e.sceneName)})),wt.on("SceneNameChanged",(async e=>{e.oldSceneName===i&&n(5,i=e.sceneName),e.oldSceneName===a&&n(6,a=e.sceneName)})),wt.on("TransitionListChanged",(async e=>{console.log("TransitionListChanged",e),n(3,u=e.transitions||[])}));return e.$$set=e=>{"imageFormat"in e&&n(4,r=e.imageFormat)},e.$$.update=()=>{96&e.$$.dirty&&f()},[s,c,l,u,r,i,a,function(e){I[e?"unshift":"push"]((()=>{l=e,n(2,l)}))},async e=>{await vt("SetCurrentSceneTransition",{transitionName:e.transitionName}),await vt("TriggerStudioModeTransition")},function(e){I[e?"unshift":"push"]((()=>{c=e,n(1,c)}))}]}wt.on("error",(e=>{console.error("Socket error:",e)}));class kt extends K{constructor(e){super(),Y(this,e,St,$t,s,{imageFormat:4})}}function xt(e){let t,n;return{c(){t=p("img"),a(t.src,n=e[4])||b(t,"src",n),b(t,"alt",e[0]),b(t,"class","thumbnail svelte-xcafbk")},m(e,n){d(e,t,n)},p(e,o){16&o&&!a(t.src,n=e[4])&&b(t,"src",n),1&o&&b(t,"alt",e[0])},d(e){e&&f(t)}}}function Ft(e){let t;return{c(){t=g(e[0])},m(e,n){d(e,t,n)},p(e,n){1&n&&C(t,e[0])},d(e){e&&f(t)}}}function Nt(t){let n,o,r,s,i,a=t[4]&&xt(t),c="icon"!==t[1]&&Ft(t);return{c(){n=p("button"),a&&a.c(),o=w(),c&&c.c(),b(n,"style",r="icon"===t[1]?t[5]:""),b(n,"title",t[0]),b(n,"class","svelte-xcafbk"),S(n,"title","text"===t[1]),S(n,"program",t[2]),S(n,"preview",t[3]),S(n,"with-icon","icon"===t[1])},m(e,r){d(e,n,r),a&&a.m(n,null),u(n,o),c&&c.m(n,null),s||(i=y(n,"click",t[8]),s=!0)},p(e,[t]){e[4]?a?a.p(e,t):(a=xt(e),a.c(),a.m(n,o)):a&&(a.d(1),a=null),"icon"!==e[1]?c?c.p(e,t):(c=Ft(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null),34&t&&r!==(r="icon"===e[1]?e[5]:"")&&b(n,"style",r),1&t&&b(n,"title",e[0]),2&t&&S(n,"title","text"===e[1]),4&t&&S(n,"program",e[2]),8&t&&S(n,"preview",e[3]),2&t&&S(n,"with-icon","icon"===e[1])},i:e,o:e,d(e){e&&f(n),a&&a.d(),c&&c.d(),s=!1,i()}}}function _t(e,t,n){let o,{name:r}=t,{buttonStyle:s="text"}=t,{icon:i="#ffffff"}=t,{isProgram:a=!1}=t,{isPreview:c=!1}=t,{img:l=""}=t;const u=_();return e.$$set=e=>{"name"in e&&n(0,r=e.name),"buttonStyle"in e&&n(1,s=e.buttonStyle),"icon"in e&&n(7,i=e.icon),"isProgram"in e&&n(2,a=e.isProgram),"isPreview"in e&&n(3,c=e.isPreview),"img"in e&&n(4,l=e.img)},e.$$.update=()=>{128&e.$$.dirty&&n(5,o=i.startsWith("#")?`background-color: ${i};`:`background-image: url(${i});`)},[r,s,a,c,l,o,u,i,()=>u("click")]}class Et extends K{constructor(e){super(),Y(this,e,_t,Nt,s,{name:0,buttonStyle:1,icon:7,isProgram:2,isPreview:3,img:4})}}function It(e,t,n){const o=e.slice();return o[11]=t[n],o}function Lt(e,t,n){const o=e.slice();return o[11]=t[n],o}function Mt(e){let t,n,o=G(e[6]),r=[];for(let t=0;t<o.length;t+=1)r[t]=At(It(e,o,t));const s=e=>q(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=v()},m(e,o){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,o);d(e,t,o),n=!0},p(e,n){if(238&n){let i;for(o=G(e[6]),i=0;i<o.length;i+=1){const s=It(e,o,i);r[i]?(r[i].p(s,n),W(r[i],1)):(r[i]=At(s),r[i].c(),W(r[i],1),r[i].m(t.parentNode,t))}for(z(),i=o.length;i<r.length;i+=1)s(i);D()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)W(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)q(r[e]);n=!1},d(e){e&&f(t),m(r,e)}}}function Pt(t){let n,o=G(t[0].reverse()),r=[];for(let e=0;e<o.length;e+=1)r[e]=Ht(Lt(t,o,e));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=v()},m(e,t){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,t);d(e,n,t)},p(e,t){if(801&t){let s;for(o=G(e[0].reverse()),s=0;s<o.length;s+=1){const i=Lt(e,o,s);r[s]?r[s].p(i,t):(r[s]=Ht(i),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},i:e,o:e,d(e){e&&f(n),m(r,e)}}}function At(e){let t,n,o,s;return n=new Et({props:{name:e[11].sceneName,isProgram:e[1]===e[11].sceneName,isPreview:e[2]===e[11].sceneName,buttonStyle:e[3],icon:e[5][e[11].sceneName]||`#${Math.floor(16777215*Math.random()).toString(16)}`}}),n.$on("click",(function(){r(e[7](e[11]))&&e[7](e[11]).apply(this,arguments)})),{c(){t=p("li"),Z(n.$$.fragment),o=w(),b(t,"class","svelte-6kdm22")},m(e,r){d(e,t,r),U(n,t,null),u(t,o),s=!0},p(t,o){e=t;const r={};64&o&&(r.name=e[11].sceneName),66&o&&(r.isProgram=e[1]===e[11].sceneName),68&o&&(r.isPreview=e[2]===e[11].sceneName),8&o&&(r.buttonStyle=e[3]),96&o&&(r.icon=e[5][e[11].sceneName]||`#${Math.floor(16777215*Math.random()).toString(16)}`),n.$set(r)},i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){q(n.$$.fragment,e),s=!1},d(e){e&&f(t),J(n)}}}function Ht(e){let t,n,r,s,i,a,c,l,m,h,g,v,C,$,S;return{c(){t=p("li"),n=p("label"),n.textContent="Name",r=w(),s=p("input"),c=w(),l=p("label"),l.textContent="Icon",m=w(),h=p("input"),C=w(),b(n,"class","label"),b(s,"type","text"),b(s,"class","input"),b(s,"title",i=e[11].sceneName),s.value=a=e[11].sceneName,b(l,"class","label"),b(h,"type","text"),b(h,"class","input"),b(h,"title",g=e[11].sceneName),h.value=v=e[5][e[11].sceneName]||"",b(t,"class","svelte-6kdm22")},m(o,i){d(o,t,i),u(t,n),u(t,r),u(t,s),u(t,c),u(t,l),u(t,m),u(t,h),u(t,C),$||(S=[y(s,"change",e[8]),y(h,"change",e[9])],$=!0)},p(e,t){1&t&&i!==(i=e[11].sceneName)&&b(s,"title",i),1&t&&a!==(a=e[11].sceneName)&&s.value!==a&&(s.value=a),1&t&&g!==(g=e[11].sceneName)&&b(h,"title",g),33&t&&v!==(v=e[5][e[11].sceneName]||"")&&h.value!==v&&(h.value=v)},d(e){e&&f(t),$=!1,o(S)}}}function Ot(e){let t,n,o,r;const s=[Pt,Mt],i=[];function a(e,t){return e[4]?0:1}return n=a(e),o=i[n]=s[n](e),{c(){t=p("ol"),o.c(),b(t,"class","svelte-6kdm22"),S(t,"column",e[4]),S(t,"with-icon","icon"===e[3])},m(e,o){d(e,t,o),i[n].m(t,null),r=!0},p(e,[c]){let l=n;n=a(e),n===l?i[n].p(e,c):(z(),q(i[l],1,1,(()=>{i[l]=null})),D(),o=i[n],o?o.p(e,c):(o=i[n]=s[n](e),o.c()),W(o,1),o.m(t,null)),(!r||16&c)&&S(t,"column",e[4]),(!r||8&c)&&S(t,"with-icon","icon"===e[3])},i(e){r||(W(o),r=!0)},o(e){q(o),r=!1},d(e){e&&f(t),i[n].d()}}}function Vt(e,t,n){let{programScene:o={}}=t,{previewScene:r={}}=t,{scenes:s=[]}=t,{buttonStyle:i="text"}=t,{editable:a=!1}=t,c=[],l=!1;const u=JSON.parse(window.localStorage.getItem("sceneIcons")||"{}");return N((async function(){let e=await vt("GetSceneList");console.log("GetSceneList",e),n(1,o=e.currentProgramSceneName||""),n(2,r=e.currentPreviewSceneName),n(0,s=e.scenes),e=await vt("GetStudioModeEnabled"),e&&e.studioModeEnabled&&(l=!0,n(2,r=e.currentPreviewSceneName||""))})),wt.on("StudioModeStateChanged",(async e=>{console.log("StudioModeStateChanged",e.studioModeEnabled),l=e.studioModeEnabled,n(2,r=o)})),wt.on("SceneListChanged",(async e=>{console.log("SceneListChanged",e.scenes.length),n(0,s=e.scenes)})),wt.on("SceneCreated",(async e=>{console.log("SceneCreated",e)})),wt.on("SceneRemoved",(async e=>{console.log("SceneRemoved",e);for(let t=0;t<s.length;t++)s[t].sceneName===e.sceneName&&delete s[t]})),wt.on("SceneNameChanged",(async e=>{console.log("SceneNameChanged",e);for(let t=0;t<s.length;t++)s[t].sceneName===e.oldSceneName&&n(0,s[t].sceneName=e.sceneName,s);n(5,u[e.sceneName]=u[e.oldSceneName],u)})),wt.on("CurrentProgramSceneChanged",(e=>{console.log("CurrentProgramSceneChanged",e),n(1,o=e.sceneName||"")})),wt.on("CurrentPreviewSceneChanged",(async e=>{console.log("CurrentPreviewSceneChanged",e),n(2,r=e.sceneName)})),e.$$set=e=>{"programScene"in e&&n(1,o=e.programScene),"previewScene"in e&&n(2,r=e.previewScene),"scenes"in e&&n(0,s=e.scenes),"buttonStyle"in e&&n(3,i=e.buttonStyle),"editable"in e&&n(4,a=e.editable)},e.$$.update=()=>{1&e.$$.dirty&&n(6,c=s.filter((e=>-1===e.sceneName.indexOf("(hidden)"))).reverse()),32&e.$$.dirty&&window.localStorage.setItem("sceneIcons",JSON.stringify(u))},[s,o,r,i,a,u,c,function(e){return async function(){l?await vt("SetCurrentPreviewScene",{sceneName:e.sceneName}):await vt("SetCurrentProgramScene",{sceneName:e.sceneName})}},function(e){vt("SetSceneName",{sceneName:e.target.title,newSceneName:e.target.value})},function(e){n(5,u[e.target.title]=e.target.value,u)}]}class Tt extends K{constructor(e){super(),Y(this,e,Vt,Ot,s,{programScene:1,previewScene:2,scenes:0,buttonStyle:3,editable:4})}}function Bt(e,t,n){const o=e.slice();return o[11]=t[n],o}function jt(e){let t,n,o,s;return n=new Et({props:{name:e[11].sourceName,isProgram:e[11].sceneItemEnabled,img:e[11].img,buttonStyle:e[0]}}),n.$on("click",(function(){r(e[2](e[11].sceneItemId))&&e[2](e[11].sceneItemId).apply(this,arguments)})),{c(){t=p("li"),Z(n.$$.fragment),o=w(),b(t,"class","svelte-1ottsv0")},m(e,r){d(e,t,r),U(n,t,null),u(t,o),s=!0},p(t,o){e=t;const r={};2&o&&(r.name=e[11].sourceName),2&o&&(r.isProgram=e[11].sceneItemEnabled),2&o&&(r.img=e[11].img),1&o&&(r.buttonStyle=e[0]),n.$set(r)},i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){q(n.$$.fragment,e),s=!1},d(e){e&&f(t),J(n)}}}function Rt(e){let t,n,o,r,s,i,a=G(e[1]),c=[];for(let t=0;t<a.length;t+=1)c[t]=jt(Bt(e,a,t));const l=e=>q(c[e],1,1,(()=>{c[e]=null}));return{c(){t=p("ol");for(let e=0;e<c.length;e+=1)c[e].c();n=w(),o=p("button"),o.textContent="Load missing thumbnails",b(t,"class","svelte-1ottsv0"),b(o,"class","button")},m(a,l){d(a,t,l);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(t,null);d(a,n,l),d(a,o,l),r=!0,s||(i=y(o,"click",e[3]),s=!0)},p(e,[n]){if(7&n){let o;for(a=G(e[1]),o=0;o<a.length;o+=1){const r=Bt(e,a,o);c[o]?(c[o].p(r,n),W(c[o],1)):(c[o]=jt(r),c[o].c(),W(c[o],1),c[o].m(t,null))}for(z(),o=a.length;o<c.length;o+=1)l(o);D()}},i(e){if(!r){for(let e=0;e<a.length;e+=1)W(c[e]);r=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)q(c[e]);r=!1},d(e){e&&(f(t),f(n),f(o)),m(c,e),s=!1,i()}}}function zt(e,t,n){let{buttonStyle:o="screenshot"}=t,{name:r="Backgrounds (hidden)"}=t,{imageFormat:s="jpg"}=t,i=[];const a={};let c="";const l=new Set;async function u(){const e=await vt("GetSceneItemList",{sceneName:r});n(1,i=e.sceneItems||i);for(let e=0;e<i.length;e++){const t=i[e];a[t.sceneItemId]=e,t.sceneItemEnabled&&(c=t.sceneItemId)}for(let e=0;e<i.length;e++)n(1,i[e].img=await d(i[e]),i)}async function d(e){if(e.img)return e.img;let t=null,n=e.sceneItemEnabled?3:1;for(;n--;)if(await new Promise((e=>setTimeout(e,500*Math.random()+100))),t=await vt("GetSourceScreenshot",{sourceName:e.sourceName,imageFormat:s,width:192,height:108}),t&&t.imageData)return t.imageData}return N((async function(){await u()})),wt.on("SceneItemEnableStateChanged",(async e=>{if(e.sceneName===r){const t=a[e.sceneItemId];n(1,i[t].sceneItemEnabled=e.sceneItemEnabled,i),i[t].sceneItemEnabled&&!i[t].img&&(n(1,i[t].img=await d(i[t]),i),l.has(i[t].sceneItemId)&&(n(1,i[t].img=await d(i[t]),i),await vt("SetSceneItemEnabled",{sceneName:r,sceneItemId:i[t].sceneItemId,sceneItemEnabled:!1}),l.delete(i[t].sceneItemId)))}})),wt.on("SceneItemListReindexed",(async e=>{e.sceneName===r&&await u()})),wt.on("SceneItemCreated",(async e=>{e.sceneName===r&&await u()})),wt.on("SceneItemRemoved",(async e=>{e.sceneName===r&&await u()})),e.$$set=e=>{"buttonStyle"in e&&n(0,o=e.buttonStyle),"name"in e&&n(4,r=e.name),"imageFormat"in e&&n(5,s=e.imageFormat)},[o,i,function(e){return async function(){await vt("SetSceneItemEnabled",{sceneName:r,sceneItemId:e,sceneItemEnabled:!0}),c!==e&&await vt("SetSceneItemEnabled",{sceneName:r,sceneItemId:c,sceneItemEnabled:!1}),c=e}},async function(){for(let e=0;e<i.length;e++)i[e].img||(await vt("SetSceneItemEnabled",{sceneName:r,sceneItemId:i[e].sceneItemId,sceneItemEnabled:!0}),l.add(i[e].sceneItemId))},r,s]}class Dt extends K{constructor(e){super(),Y(this,e,zt,Rt,s,{buttonStyle:0,name:4,imageFormat:5})}}const{document:Wt}=l;function qt(e,t,n){const o=e.slice();return o[36]=t[n],o}function Gt(t){let n,o,r=(t[8]||"Disconnected")+"";return{c(){n=p("button"),o=g(r),b(n,"class","button is-danger"),n.disabled=!0},m(e,t){d(e,n,t),u(n,o)},p(e,t){256&t[0]&&r!==(r=(e[8]||"Disconnected")+"")&&C(o,r)},i:e,o:e,d(e){e&&f(n)}}}function Zt(e){let t,n,o,r,s,i,a,c,l,m,h,g;const v=[Jt,Ut],C=[];function $(e,t){return e[2]&&e[2].recording&&e[2].recording.outputActive?0:1}t=$(e),n=C[t]=v[t](e);const S=[Qt,Kt],k=[];function x(e,t){return e[4]?0:1}return r=x(e),s=k[r]=S[r](e),l=new ce({props:{path:"M21.4 7.5C22.2 8.3 22.2 9.6 21.4 10.3L18.6 13.1L10.8 5.3L13.6 2.5C14.4 1.7 15.7 1.7 16.4 2.5L18.2 4.3L21.2 1.3L22.6 2.7L19.6 5.7L21.4 7.5M15.6 13.3L14.2 11.9L11.4 14.7L9.3 12.6L12.1 9.8L10.7 8.4L7.9 11.2L6.4 9.8L3.6 12.6C2.8 13.4 2.8 14.7 3.6 15.4L5.4 17.2L1.4 21.2L2.8 22.6L6.8 18.6L8.6 20.4C9.4 21.2 10.7 21.2 11.4 20.4L14.2 17.6L12.8 16.2L15.6 13.3Z"}}),{c(){n.c(),o=w(),s.c(),i=w(),a=p("button"),c=p("span"),Z(l.$$.fragment),b(c,"class","icon"),b(a,"class","button is-danger is-light"),b(a,"title","Disconnect")},m(n,s){C[t].m(n,s),d(n,o,s),k[r].m(n,s),d(n,i,s),d(n,a,s),u(a,c),U(l,c,null),m=!0,h||(g=y(a,"click",e[19]),h=!0)},p(e,a){let c=t;t=$(e),t===c?C[t].p(e,a):(z(),q(C[c],1,1,(()=>{C[c]=null})),D(),n=C[t],n?n.p(e,a):(n=C[t]=v[t](e),n.c()),W(n,1),n.m(o.parentNode,o));let l=r;r=x(e),r===l?k[r].p(e,a):(z(),q(k[l],1,1,(()=>{k[l]=null})),D(),s=k[r],s?s.p(e,a):(s=k[r]=S[r](e),s.c()),W(s,1),s.m(i.parentNode,i))},i(e){m||(W(n),W(s),W(l.$$.fragment,e),m=!0)},o(e){q(n),q(s),q(l.$$.fragment,e),m=!1},d(e){e&&(f(o),f(i),f(a)),C[t].d(e),k[r].d(e),J(l),h=!1,g()}}}function Ut(t){let n,o,r,s,i,a;return r=new ce({props:{path:"M19,12C19,15.86 15.86,19 12,19C8.14,19 5,15.86 5,12C5,8.14 8.14,5 12,5C15.86,5 19,8.14 19,12Z"}}),{c(){n=p("button"),o=p("span"),Z(r.$$.fragment),b(o,"class","icon"),b(n,"class","button is-danger is-light"),b(n,"title","Start Recording")},m(e,c){d(e,n,c),u(n,o),U(r,o,null),s=!0,i||(a=y(n,"click",t[12]),i=!0)},p:e,i(e){s||(W(r.$$.fragment,e),s=!0)},o(e){q(r.$$.fragment,e),s=!1},d(e){e&&f(n),J(r),i=!1,a()}}}function Jt(e){let t,n,o,r,s,i,a,c,l,m,h,v,$=un(e[2].recording.outputDuration)+"";const S=[Yt,Xt],k=[];function x(e,t){return e[2].recording.outputPaused?0:1}return t=x(e),n=k[t]=S[t](e),i=new ce({props:{path:"M18,18H6V6H18V18Z"}}),{c(){n.c(),o=w(),r=p("button"),s=p("span"),Z(i.$$.fragment),a=w(),c=p("span"),l=g($),b(s,"class","icon"),b(r,"class","button is-danger"),b(r,"title","Stop Recording")},m(n,f){k[t].m(n,f),d(n,o,f),d(n,r,f),u(r,s),U(i,s,null),u(r,a),u(r,c),u(c,l),m=!0,h||(v=y(r,"click",e[13]),h=!0)},p(e,r){let s=t;t=x(e),t===s?k[t].p(e,r):(z(),q(k[s],1,1,(()=>{k[s]=null})),D(),n=k[t],n?n.p(e,r):(n=k[t]=S[t](e),n.c()),W(n,1),n.m(o.parentNode,o)),(!m||4&r[0])&&$!==($=un(e[2].recording.outputDuration)+"")&&C(l,$)},i(e){m||(W(n),W(i.$$.fragment,e),m=!0)},o(e){q(n),q(i.$$.fragment,e),m=!1},d(e){e&&(f(o),f(r)),k[t].d(e),J(i),h=!1,v()}}}function Xt(t){let n,o,r,s,i,a;return r=new ce({props:{path:"M14,19H18V5H14M6,19H10V5H6V19Z"}}),{c(){n=p("button"),o=p("span"),Z(r.$$.fragment),b(o,"class","icon"),b(n,"class","button is-success"),b(n,"title","Pause Recording")},m(e,c){d(e,n,c),u(n,o),U(r,o,null),s=!0,i||(a=y(n,"click",t[16]),i=!0)},p:e,i(e){s||(W(r.$$.fragment,e),s=!0)},o(e){q(r.$$.fragment,e),s=!1},d(e){e&&f(n),J(r),i=!1,a()}}}function Yt(t){let n,o,r,s,i,a;return r=new ce({props:{path:"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5"}}),{c(){n=p("button"),o=p("span"),Z(r.$$.fragment),b(o,"class","icon"),b(n,"class","button is-danger"),b(n,"title","Resume Recording")},m(e,c){d(e,n,c),u(n,o),U(r,o,null),s=!0,i||(a=y(n,"click",t[17]),i=!0)},p:e,i(e){s||(W(r.$$.fragment,e),s=!0)},o(e){q(r.$$.fragment,e),s=!1},d(e){e&&f(n),J(r),i=!1,a()}}}function Kt(t){let n,o,r,s,i,a;return r=new ce({props:{path:"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"}}),{c(){n=p("button"),o=p("span"),Z(r.$$.fragment),b(o,"class","icon"),b(n,"class","button is-danger is-light"),b(n,"title","Start Virtual Webcam")},m(e,c){d(e,n,c),u(n,o),U(r,o,null),s=!0,i||(a=y(n,"click",t[14]),i=!0)},p:e,i(e){s||(W(r.$$.fragment,e),s=!0)},o(e){q(r.$$.fragment,e),s=!1},d(e){e&&f(n),J(r),i=!1,a()}}}function Qt(t){let n,o,r,s,i,a;return r=new ce({props:{path:"M1.2,4.47L2.5,3.2L20,20.72L18.73,22L16.73,20H4A2,2 0 0,1 2,18V6C2,5.78 2.04,5.57 2.1,5.37L1.2,4.47M7,4L9,2H15L17,4H20A2,2 0 0,1 22,6V18C22,18.6 21.74,19.13 21.32,19.5L16.33,14.5C16.76,13.77 17,12.91 17,12A5,5 0 0,0 12,7C11.09,7 10.23,7.24 9.5,7.67L5.82,4H7M7,12A5,5 0 0,0 12,17C12.5,17 13.03,16.92 13.5,16.77L11.72,15C10.29,14.85 9.15,13.71 9,12.28L7.23,10.5C7.08,10.97 7,11.5 7,12M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9Z"}}),{c(){n=p("button"),o=p("span"),Z(r.$$.fragment),b(o,"class","icon"),b(n,"class","button is-danger"),b(n,"title","Stop Virtual Webcam")},m(e,c){d(e,n,c),u(n,o),U(r,o,null),s=!0,i||(a=y(n,"click",t[15]),i=!0)},p:e,i(e){s||(W(r.$$.fragment,e),s=!0)},o(e){q(r.$$.fragment,e),s=!1},d(e){e&&f(n),J(r),i=!1,a()}}}function en(t){let n,r,s,i,a,c,l,m,h,g,v,C,S,k;return{c(){n=p("p"),n.textContent='Enter your OBS host:port below and click "connect".',r=w(),s=p("form"),i=p("div"),a=p("p"),c=p("input"),l=w(),m=p("input"),h=w(),g=p("p"),g.innerHTML='<button class="button is-success">Connect</button>',v=w(),C=p("p"),C.textContent=`Build: ${cn}`,b(c,"id","host"),b(c,"class","input"),b(c,"type","text"),b(c,"autocomplete",""),b(c,"placeholder","ws://localhost:4455"),b(m,"id","password"),b(m,"class","input"),b(m,"type","password"),b(m,"autocomplete","current-password"),b(m,"placeholder","password (leave empty if you have disabled authentication)"),b(a,"class","control is-expanded"),b(g,"class","control"),b(i,"class","field is-grouped"),b(C,"class","help")},m(e,o){var f;d(e,n,o),d(e,r,o),d(e,s,o),u(s,i),u(i,a),u(a,c),$(c,t[5]),u(a,l),u(a,m),$(m,t[6]),u(i,h),u(i,g),d(e,v,o),d(e,C,o),S||(k=[y(c,"input",t[21]),y(m,"input",t[22]),y(s,"submit",(f=t[18],function(e){return e.preventDefault(),f.call(this,e)}))],S=!0)},p(e,t){32&t[0]&&c.value!==e[5]&&$(c,e[5]),64&t[0]&&m.value!==e[6]&&$(m,e[6])},i:e,o:e,d(e){e&&(f(n),f(r),f(s),f(v),f(C)),S=!1,o(k)}}}function tn(e){let t,n,o,r,s,i,a,c=e[0]&&nn(e);function l(t){e[20](t)}let u={buttonStyle:e[10]?"icon":"text",editable:ln};void 0!==e[7]&&(u.scenes=e[7]),n=new Tt({props:u}),I.push((()=>function(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}(n,"scenes",l)));let p=!e[0]&&on(e),h=G(e[7]),g=[];for(let t=0;t<h.length;t+=1)g[t]=sn(qt(e,h,t));const y=e=>q(g[e],1,1,(()=>{g[e]=null}));return{c(){c&&c.c(),t=w(),Z(n.$$.fragment),r=w(),p&&p.c(),s=w();for(let e=0;e<g.length;e+=1)g[e].c();i=v()},m(e,o){c&&c.m(e,o),d(e,t,o),U(n,e,o),d(e,r,o),p&&p.m(e,o),d(e,s,o);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(e,o);d(e,i,o),a=!0},p(e,r){e[0]?c?(c.p(e,r),1&r[0]&&W(c,1)):(c=nn(e),c.c(),W(c,1),c.m(t.parentNode,t)):c&&(z(),q(c,1,1,(()=>{c=null})),D());const a={};var l;if(!o&&128&r[0]&&(o=!0,a.scenes=e[7],l=()=>o=!1,M.push(l)),n.$set(a),e[0]?p&&(z(),q(p,1,1,(()=>{p=null})),D()):p?(p.p(e,r),1&r[0]&&W(p,1)):(p=on(e),p.c(),W(p,1),p.m(s.parentNode,s)),640&r[0]){let t;for(h=G(e[7]),t=0;t<h.length;t+=1){const n=qt(e,h,t);g[t]?(g[t].p(n,r),W(g[t],1)):(g[t]=sn(n),g[t].c(),W(g[t],1),g[t].m(i.parentNode,i))}for(z(),t=h.length;t<g.length;t+=1)y(t);D()}},i(e){if(!a){W(c),W(n.$$.fragment,e),W(p);for(let e=0;e<h.length;e+=1)W(g[e]);a=!0}},o(e){q(c),q(n.$$.fragment,e),q(p),g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)q(g[e]);a=!1},d(e){e&&(f(t),f(r),f(s),f(i)),c&&c.d(e),J(n,e),p&&p.d(e),m(g,e)}}}function nn(e){let t,n;return t=new kt({props:{imageFormat:e[9]}}),{c(){Z(t.$$.fragment)},m(e,o){U(t,e,o),n=!0},p(e,n){const o={};512&n[0]&&(o.imageFormat=e[9]),t.$set(o)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function on(e){let t,n;return t=new kt({props:{imageFormat:e[9]}}),{c(){Z(t.$$.fragment)},m(e,o){U(t,e,o),n=!0},p(e,n){const o={};512&n[0]&&(o.imageFormat=e[9]),t.$set(o)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function rn(e){let t,n;return t=new Dt({props:{name:e[36].sceneName,imageFormat:e[9],buttonStyle:"screenshot"}}),{c(){Z(t.$$.fragment)},m(e,o){U(t,e,o),n=!0},p(e,n){const o={};128&n[0]&&(o.name=e[36].sceneName),512&n[0]&&(o.imageFormat=e[9]),t.$set(o)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function sn(e){let t,n,o=e[36].sceneName.indexOf("(switch)")>0,r=o&&rn(e);return{c(){r&&r.c(),t=v()},m(e,o){r&&r.m(e,o),d(e,t,o),n=!0},p(e,n){128&n[0]&&(o=e[36].sceneName.indexOf("(switch)")>0),o?r?(r.p(e,n),128&n[0]&&W(r,1)):(r=rn(e),r.c(),W(r,1),r.m(t.parentNode,t)):r&&(z(),q(r,1,1,(()=>{r=null})),D())},i(e){n||(W(r),n=!0)},o(e){q(r),n=!1},d(e){e&&f(t),r&&r.d(e)}}}function an(e){let t,n,o,r,s,i,a,c,l,m,h,g,v,C,$,k,x,F,N,_,E,I;const L=[Zt,Gt],M=[];function P(e,t){return e[1]?0:1}l=P(e),m=M[l]=L[l](e),C=new ce({props:{path:e[3]?ee:Q}});const A=[tn,en],H=[];function O(e,t){return e[1]?0:1}return F=O(e),N=H[F]=A[F](e),{c(){t=w(),n=p("nav"),o=p("div"),o.innerHTML='<a class="navbar-item is-size-4 has-text-weight-bold" href="/"><img src="favicon.png" alt="OBS-web"/> \n      <h1 id="navbarTitle">OBS-Web</h1></a> <button class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navmenu"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></button>',r=w(),s=p("div"),i=p("div"),a=p("div"),c=p("div"),m.c(),h=w(),g=p("button"),v=p("span"),Z(C.$$.fragment),$=w(),k=p("section"),x=p("div"),N.c(),Wt.title="OBS-Web Remote Control",b(o,"class","navbar-brand"),b(v,"class","icon"),b(g,"class","button is-link"),b(g,"title","Toggle Fullscreen"),S(g,"is-light",!e[3]),b(c,"class","buttons"),b(a,"class","navbar-item"),b(i,"class","navbar-end"),b(s,"id","navmenu"),b(s,"class","navbar-menu"),b(n,"class","navbar is-primary"),b(n,"aria-label","main navigation"),b(x,"class","container"),b(k,"class","section")},m(f,m){d(f,t,m),d(f,n,m),u(n,o),u(n,r),u(n,s),u(s,i),u(i,a),u(a,c),M[l].m(c,null),u(c,h),u(c,g),u(g,v),U(C,v,null),d(f,$,m),d(f,k,m),u(k,x),H[F].m(x,null),_=!0,E||(I=y(g,"click",e[11]),E=!0)},p(e,t){let n=l;l=P(e),l===n?M[l].p(e,t):(z(),q(M[n],1,1,(()=>{M[n]=null})),D(),m=M[l],m?m.p(e,t):(m=M[l]=L[l](e),m.c()),W(m,1),m.m(c,h));const o={};8&t[0]&&(o.path=e[3]?ee:Q),C.$set(o),(!_||8&t[0])&&S(g,"is-light",!e[3]);let r=F;F=O(e),F===r?H[F].p(e,t):(z(),q(H[r],1,1,(()=>{H[r]=null})),D(),N=H[F],N?N.p(e,t):(N=H[F]=A[F](e),N.c()),W(N,1),N.m(x,null))},i(e){_||(W(m),W(C.$$.fragment,e),W(N),_=!0)},o(e){q(m),q(C.$$.fragment,e),q(N),_=!1},d(e){e&&(f(t),f(n),f($),f(k)),M[l].d(),J(C),H[F].d(),E=!1,I()}}}const cn="2025.03";let ln=!1;function un(e){e=Math.round(e/1e3);const t=Math.floor(e/3600);e-=3600*t;const n=Math.floor(e/60);return e-=60*n,t>0?`${t}:${n<10?"0":""}${n}:${e<10?"0":""}${e}`:`${n<10?"0":""}${n}:${e<10?"0":""}${e}`}function dn(e,t,n){let o;N((async()=>{if("serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),"wakeLock"in navigator)try{await navigator.wakeLock.request("screen"),document.addEventListener("visibilitychange",(async()=>{"visible"===document.visibilityState&&await navigator.wakeLock.request("screen")}))}catch(e){}const e=document.querySelector(".navbar-burger");e.addEventListener("click",(()=>{e.classList.toggle("is-active"),document.getElementById(e.dataset.target).classList.toggle("is-active")})),document.addEventListener("fullscreenchange",(()=>{n(3,s=document.fullscreenElement)})),document.addEventListener("webkitfullscreenchange",(()=>{n(3,s=document.webkitFullscreenElement)})),document.addEventListener("msfullscreenchange",(()=>{n(3,s=document.msFullscreenElement)})),""!==document.location.hash&&(n(5,a=document.location.hash.slice(1)),a.includes("#")&&n(5,[a,c]=a.split("#"),a,n(6,c)),await h()),window.sendCommand=vt}));let r,s,i,a,c,l={},u=window.localStorage.getItem("isSceneOnTop")||!1,d=window.localStorage.getItem("isIconMode")||!1,f=[],m="",p="jpg";async function h(){if(n(5,a=a||"ws://localhost:4455"),-1===a.indexOf("://")){const e="https:"===location.protocol||a.endsWith(":443");n(5,a=e?"wss://":"ws://"+a)}console.log("Connecting to:",a,"- using password:",c),await g();try{const{obsWebSocketVersion:e,negotiatedRpcVersion:t}=await wt.connect(a,c);console.log(`Connected to obs-websocket version ${e} (using RPC ${t})`)}catch(e){console.log(e),n(8,m=e.message)}}async function g(){await wt.disconnect(),clearInterval(r),n(1,o=!1),n(8,m="Disconnected")}return wt.on("ConnectionClosed",(()=>{n(1,o=!1),window.document.body.classList.remove("connected"),window.history.pushState("",document.title,window.location.pathname+window.location.search),console.log("Connection closed"),window.document.getElementById("navbarTitle").innerHTML="OBS-Web"})),wt.on("Identified",(async()=>{console.log("Connected"),window.document.body.classList.add("connected"),n(1,o=!0),document.location.hash=a;const e=await vt("GetVersion"),t=e.obsWebSocketVersion||"";console.log("OBS-websocket version:",t),((e,t)=>{const n=ue(e),o=ue(t),r=n.pop(),s=o.pop(),i=pe(n,o);return 0!==i?i:r&&s?pe(r.split("."),s.split(".")):r||s?r?-1:1:0})(t,"5.0.1")<0&&alert("You are running an outdated OBS-websocket (version "+t+"), please upgrade to the latest version for full compatibility."),e.supportedImageFormats.includes("webp")&&0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")&&n(9,p="webp"),r=setInterval((async()=>{const e=await vt("GetStats"),t=await vt("GetStreamStatus"),o=await vt("GetRecordStatus");n(2,l={stats:e,streaming:t,recording:o}),o.outputActive?window.document.body.classList.add("recording"):window.document.body.classList.remove("recording"),window.document.getElementById("navbarTitle").innerHTML=function(){const e=new Date;return String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")}()}),1e3),(await vt("GetStudioModeEnabled")).studioModeEnabled,n(4,i=(await vt("GetVirtualCamStatus")).outputActive||!1)})),wt.on("ConnectionError",(async()=>{n(8,m="Please enter your password:"),document.getElementById("password").focus(),c?await h():n(1,o=!1)})),wt.on("VirtualcamStateChanged",(async e=>{console.log("VirtualcamStateChanged",e.outputActive),n(4,i=e&&e.outputActive)})),wt.on("StudioModeStateChanged",(async e=>{console.log("StudioModeStateChanged",e.studioModeEnabled),e&&e.studioModeEnabled})),wt.on("ReplayBufferStateChanged",(async e=>{console.log("ReplayBufferStateChanged",e),e&&e.outputActive})),e.$$.update=()=>{1&e.$$.dirty[0]&&(u?window.localStorage.setItem("isSceneOnTop","true"):window.localStorage.removeItem("isSceneOnTop"))},d?window.localStorage.setItem("isIconMode","true"):window.localStorage.removeItem("isIconMode"),[u,o,l,s,i,a,c,f,m,p,d,function(){s?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()},async function(){await vt("StartRecord")},async function(){await vt("StopRecord")},async function(){await vt("StartVirtualCam")},async function(){await vt("StopVirtualCam")},async function(){await vt("PauseRecord")},async function(){await vt("ResumeRecord")},h,g,function(e){f=e,n(7,f)},function(){a=this.value,n(5,a)},function(){c=this.value,n(6,c)}]}return new class extends K{constructor(e){super(),Y(this,e,dn,an,s,{},null,[-1,-1])}}({target:document.body})}();
